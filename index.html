<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>INLOVEüíü</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@400;600;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <style>
    :root {
      --primary: #ff4d6d;
      --secondary: #ff8fa3;
      --accent: #ffb3c1;
      --dark: #590d22;
      --light: #fff0f3;
      --text: #2b2d42;
      --highlight: #ff758f;
      --shadow: rgba(89, 13, 34, 0.3);
      --scorpio: #8b008b;
      --sagittarius: #4169e1;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, var(--light), var(--accent));
      color: var(--text);
      height: 100vh;
      overflow: hidden;
      position: relative;
      aspect-ratio: 9/16; /* Gi·ªØ t·ª∑ l·ªá khung h√¨nh cho mobile-first */
      max-width: 100%; /* ƒê·∫£m b·∫£o kh√¥ng v∆∞·ª£t qu√° chi·ªÅu r·ªông m√†n h√¨nh */
      margin: 0 auto; /* CƒÉn gi·ªØa n·∫øu c√≥ max-width */
    }

    .app-container {
      width: 100%;
      height: 100%;
      max-width: 100%; /* ƒê·∫£m b·∫£o app-container chi·∫øm to√†n b·ªô body */
      margin: 0 auto;
      padding: 15px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      position: relative;
      z-index: 1;
      overflow: hidden; /* NgƒÉn n·ªôi dung tr√†n ra ngo√†i */
    }

    /* Header styles */
    .header {
      text-align: center;
      margin-bottom: 15px;
      z-index: 2;
    }

    .couple-name {
      font-family: 'Pacifico', cursive;
      font-size: 1.8rem;
      color: var(--dark);
      margin-bottom: 8px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      animation: fadeInDown 1s ease-out;
    }

    .zodiac-info {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 10px;
    }

    .zodiac-card {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 12px;
      padding: 8px 12px;
      box-shadow: 0 4px 12px var(--shadow);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      text-align: center;
      min-width: 100px;
      animation: zoomIn 0.8s ease-out;
    }

    .zodiac-card.scorpio {
      border-bottom: 3px solid var(--scorpio);
    }

    .zodiac-card.sagittarius {
      border-bottom: 3px solid var(--sagittarius);
    }

    .zodiac-name {
      font-weight: 700;
      margin-bottom: 3px;
      font-size: 0.8rem;
    }

    .zodiac-sign {
      font-size: 1.2rem;
    }

    .zodiac-date {
      font-size: 0.7rem;
      color: var(--text);
    }

    .love-date {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text);
      animation: fadeIn 1.5s ease-out;
    }

    .highlight {
      color: var(--primary);
      font-weight: 700;
    }

    /* Gallery styles */
    .gallery-container {
      flex: 1;
      position: relative;
      margin: 10px 0;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px var(--shadow);
      animation: fadeIn 1s ease-out;
      min-height: 200px; /* ƒê·∫£m b·∫£o gallery c√≥ chi·ªÅu cao t·ªëi thi·ªÉu */
    }

    .gallery-slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: all 1s ease-in-out;
      transform: scale(0.9);
      background-size: cover;
      background-position: center;
      border-radius: 20px;
    }

    .gallery-slide.active {
      opacity: 1;
      transform: scale(1);
      z-index: 1;
    }

    .gallery-slide.paused {
      animation-play-state: paused !important; /* ƒê·∫£m b·∫£o pause ho·∫°t ƒë·ªông */
    }

    .gallery-slide::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 40%;
      background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
      border-radius: 0 0 20px 20px;
    }

    .gallery-caption {
      position: absolute;
      bottom: 20px;
      left: 20px;
      right: 20px;
      color: white;
      z-index: 2;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease-out;
    }

    .gallery-slide.active .gallery-caption {
      opacity: 1;
      transform: translateY(0);
    }

    .gallery-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 5px;
      font-family: 'Pacifico', cursive;
    }

    .gallery-desc {
      font-size: 0.9rem;
    }

    /* Countdown styles */
    .countdown-container {
      margin: 10px 0;
      z-index: 2;
    }

    .countdown-box {
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      padding: 15px 10px;
      box-shadow: 0 8px 25px var(--shadow);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      position: relative;
      overflow: hidden;
    }

    .countdown-box::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        transparent 0%,
        rgba(255, 255, 255, 0.3) 50%,
        transparent 100%
      );
      transform: rotate(30deg);
      animation: shine 6s infinite;
    }

    .time-unit {
      text-align: center;
      flex: 1;
      position: relative;
      z-index: 1;
    }

    .time-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
      line-height: 1;
      margin-bottom: 3px;
      transition: all 0.3s;
    }

    .time-label {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--text);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .time-separator {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      margin: 0 3px;
      align-self: flex-end; /* CƒÉn ch·ªânh d·∫•u hai ch·∫•m */
      padding-bottom: 10px; /* ƒêi·ªÅu ch·ªânh v·ªã tr√≠ d·∫•u : */
    }

    /* Quote styles */
    .quote-container {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      padding: 15px;
      margin-top: 10px;
      box-shadow: 0 5px 20px var(--shadow);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      position: relative;
      overflow: hidden;
      z-index: 2;
    }

    .quote-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--scorpio), var(--sagittarius));
    }

    .quote {
      font-size: 1rem;
      font-style: italic;
      color: var(--text);
      line-height: 1.4;
      margin-bottom: 8px;
      font-family: 'Dancing Script', cursive;
      transition: opacity 0.5s ease-in-out; /* Th√™m transition cho quote text */
    }

    .quote-author {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--primary);
      text-align: right;
      transition: opacity 0.5s ease-in-out; /* Th√™m transition cho quote author */
    }

    /* Music control */
    .music-control {
      position: absolute;
      top: 15px;
      right: 15px;
      z-index: 10;
    }

    #musicToggle {
      background: rgba(255, 255, 255, 0.9);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: var(--primary);
      cursor: pointer;
      box-shadow: 0 3px 10px var(--shadow);
      transition: all 0.3s;
    }

    #musicToggle:hover {
      transform: scale(1.1);
      background: white;
    }

    /* Fullscreen image viewer */
    .image-viewer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease-out;
    }

    .image-viewer.active {
      opacity: 1;
      pointer-events: all;
    }

    .image-viewer img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 10px;
      box-shadow: 0 5px 30px rgba(0,0,0,0.5);
      transform: scale(0.9);
      transition: transform 0.3s ease-out;
    }

    .image-viewer.active img {
      transform: scale(1);
    }

    .close-viewer {
      position: absolute;
      top: 20px;
      right: 20px;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      text-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    /* Background effects */
    .sparkles-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .sparkle {
      position: absolute;
      width: 6px;
      height: 6px;
      background: white;
      border-radius: 50%;
      opacity: 0;
      animation: sparkle 3s infinite; /* Gi·ªØ nguy√™n animation */
      box-shadow: 0 0 10px 2px white;
    }

    /* X√≥a ho·∫∑c comment out CSS cho .floating-hearts v√† .heart n·∫øu kh√¥ng d√πng */
    /*
    .floating-hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background: var(--primary);
      transform: rotate(45deg);
      animation: float 6s linear infinite;
      opacity: 0.7;
    }

    .heart:before, .heart:after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      background: var(--primary);
      border-radius: 50%;
    }

    .heart:before {
      top: -10px;
      left: 0;
    }

    .heart:after {
      left: -10px;
      top: 0;
    }
    */

    /* Animations */
    @keyframes shine {
      0% { transform: rotate(30deg) translate(-30%, -30%); }
      100% { transform: rotate(30deg) translate(30%, 30%); }
    }

    @keyframes sparkle {
      0% {
        transform: scale(0) translateY(0); /* Th√™m translateY ƒë·ªÉ ƒëa d·∫°ng chuy·ªÉn ƒë·ªông */
        opacity: 0;
      }
      50% {
        transform: scale(1.2) translateY(-20px); /* Th√™m translateY */
        opacity: 0.8;
      }
      100% {
        transform: scale(0) translateY(-40px); /* Th√™m translateY */
        opacity: 0;
      }
    }

    /* X√≥a ho·∫∑c comment out @keyframes float n·∫øu kh√¥ng d√πng */
    /*
    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(45deg) scale(0.8);
        opacity: 0;
      }
      50% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-20vh) rotate(45deg) scale(1.2);
        opacity: 0;
      }
    }
    */
    
    @keyframes pulse {
      from { transform: scale(1); }
      to { transform: scale(1.05); }
    }

    /* Responsive adjustments */
    @media (max-width: 400px) {
      .couple-name { font-size: 1.5rem; }
      .time-value { font-size: 1.8rem; }
      .quote { font-size: 0.9rem; }
      .zodiac-info { flex-direction: column; align-items: center; gap: 8px; }
      .zodiac-card { width: 100%; max-width: 180px; }
    }
  </style>
</head>
<body>
  <div class="app-container animate__animated animate__fadeIn">
    <div class="music-control">
      <button id="musicToggle">üéµ</button>
    </div>
    
    <div class="header">
      <h1 class="couple-name">Minh Qu√¢n & Th√πy Trang</h1>
      <div class="zodiac-info">
        <div class="zodiac-card scorpio">
          <div class="zodiac-name">B·ªç C·∫°p - Nam</div>
          <div class="zodiac-sign">‚ôè</div>
          <div class="zodiac-date">25/10/2006</div>
        </div>
        <div class="zodiac-card sagittarius">
          <div class="zodiac-name">Nh√¢n M√£ - N·ªØ</div>
          <div class="zodiac-sign">‚ôê</div>
          <div class="zodiac-date">29/11/2006</div>
        </div>
      </div>
      <div class="love-date">B·∫Øt ƒë·∫ßu y√™u nhau t·ª´ <span class="highlight">11/04/2025</span></div>
    </div>
    
    <div class="gallery-container">
      <div class="gallery-slide" style="background-image: url('picture1.jpg');">
        <div class="gallery-caption">
          <div class="gallery-title">Kho·∫£nh kh·∫Øc ƒë·∫ßu ti√™n</div>
          <div class="gallery-desc">Ng√†y ch√∫ng ta g·∫∑p nhau l·∫ßn ƒë·∫ßu</div>
        </div>
      </div>
      <div class="gallery-slide" style="background-image: url('picture2.jpg');">
        <div class="gallery-caption">
          <div class="gallery-title">C√πng nhau d·∫°o ph·ªë</div>
          <div class="gallery-desc">Nh·ªØng bu·ªïi chi·ªÅu lang thang kh·∫Øp ph·ªë ph∆∞·ªùng</div>
        </div>
      </div>
      <div class="gallery-slide" style="background-image: url('picture3.jpg');">
        <div class="gallery-caption">
          <div class="gallery-title">K·ª∑ ni·ªám ƒë√°ng nh·ªõ</div>
          <div class="gallery-desc">Ng√†y ch√∫ng ta c√≥ nh·ªØng k·ª∑ ni·ªám kh√¥ng th·ªÉ qu√™n</div>
        </div>
      </div>
      <div class="gallery-slide" style="background-image: url('picture4.jpg');">
        <div class="gallery-caption">
          <div class="gallery-title">H·∫°nh ph√∫c b√™n nhau</div>
          <div class="gallery-desc">M·ªói kho·∫£nh kh·∫Øc b√™n em l√† ni·ªÅm h·∫°nh ph√∫c</div>
        </div>
      </div>
    </div>
    
    <div class="countdown-container">
      <div class="countdown-box">
        <div class="time-unit">
          <div class="time-value" id="years">0</div>
          <div class="time-label">NƒÉm</div>
        </div>
        <div class="time-separator">:</div>
        <div class="time-unit">
          <div class="time-value" id="months">0</div>
          <div class="time-label">Th√°ng</div>
        </div>
        <div class="time-separator">:</div>
        <div class="time-unit">
          <div class="time-value" id="days">0</div>
          <div class="time-label">Ng√†y</div>
        </div>
      </div>
    </div>
    
    <div class="quote-container">
      <div class="quote" id="quote"></div>
      <div class="quote-author" id="quoteAuthor"></div>
    </div>
  </div>
  
  <div class="image-viewer">
    <span class="close-viewer">√ó</span>
    <img id="viewerImage" src="" alt="Xem ·∫£nh l·ªõn">
  </div>
  
  <div class="sparkles-container" id="sparkles"></div>
  <audio id="bgMusic" loop>
    <source src="filenhac.mp3" type="audio/mpeg">
    Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t √¢m thanh.
  </audio>
  
  <script>
    const startDate = new Date("2025-04-11T00:00:00"); // Th√™m gi·ªù ƒë·ªÉ ch√≠nh x√°c h∆°n
    const music = document.getElementById('bgMusic');
    const musicToggle = document.getElementById('musicToggle');
    const gallerySlides = document.querySelectorAll('.gallery-slide');
    const imageViewer = document.querySelector('.image-viewer');
    const viewerImage = document.getElementById('viewerImage');
    const closeViewer = document.querySelector('.close-viewer');
    const sparklesContainer = document.getElementById('sparkles');
    // const floatingHearts = document.querySelector('.floating-hearts'); // V√¥ hi·ªáu h√≥a n·∫øu kh√¥ng d√πng
    
    let currentSlide = 0;
    let musicPlaying = false; // M·∫∑c ƒë·ªãnh l√† false cho ƒë·∫øn khi ng∆∞·ªùi d√πng t∆∞∆°ng t√°c ho·∫∑c autoplay th√†nh c√¥ng
    let slideInterval;
    let isPaused = false;

    const quotes = [
      { text: "T√¨nh y√™u gi·ªØa B·ªç C·∫°p v√† Nh√¢n M√£ l√† s·ª± k·∫øt h·ª£p ho√†n h·∫£o gi·ªØa chi·ªÅu s√¢u v√† t·ª± do.", author: "Horoscope Love" },
      { text: "Minh Qu√¢n ‚ôè v√† Th√πy Trang ‚ôê - M·ªôt c·∫∑p ƒë√¥i v·ªõi t√¨nh y√™u m√£nh li·ªát v√† ƒëam m√™ kh√¥ng gi·ªõi h·∫°n.", author: "Chuy√™n gia chi√™m tinh" },
      { text: "B·ªç C·∫°p mang ƒë·∫øn s·ª± b√≠ ·∫©n, Nh√¢n M√£ mang ƒë·∫øn √°nh s√°ng. C√πng nhau, c√°c b·∫°n t·∫°o n√™n m·ªôt v≈© tr·ª• ho√†n h·∫£o.", author: "T√¨nh y√™u ho√†ng ƒë·∫°o" },
      { text: "T√¨nh y√™u kh√¥ng ph·∫£i l√† t√¨m m·ªôt ng∆∞·ªùi ho√†n h·∫£o, m√† l√† h·ªçc c√°ch nh√¨n m·ªôt ng∆∞·ªùi kh√¥ng ho√†n h·∫£o m·ªôt c√°ch ho√†n h·∫£o.", author: "Sam Keen" },
      { text: "Y√™u kh√¥ng ph·∫£i l√† nh√¨n nhau m√† l√† c√πng nh√¨n v·ªÅ m·ªôt h∆∞·ªõng.", author: "Antoine de Saint-Exupery" },
      { text: "T√¨nh y√™u th·ª±c s·ª± b·∫Øt ƒë·∫ßu khi kh√¥ng c√≤n g√¨ ƒë·ªÉ nh·∫≠n, ch·ªâ c√≤n l·∫°i nh·ªØng g√¨ c√≥ th·ªÉ cho ƒëi.", author: "Khuy·∫øt danh" }
    ];

    function initGallery() {
      if (gallerySlides.length === 0) return; // Kh√¥ng l√†m g√¨ n·∫øu kh√¥ng c√≥ slide

      gallerySlides[0].classList.add('active');
      
      slideInterval = setInterval(() => {
        if (!isPaused) {
          nextSlide();
        }
      }, 3000); // Th·ªùi gian chuy·ªÉn slide
      
      gallerySlides.forEach(slide => {
        slide.addEventListener('click', function() {
          const bgImage = this.style.backgroundImage;
          if (bgImage && bgImage !== 'none') { // Ch·ªâ m·ªü viewer n·∫øu c√≥ ·∫£nh n·ªÅn
            const imgUrl = bgImage.replace('url("', '').replace('")', '');
            viewerImage.src = imgUrl;
            imageViewer.classList.add('active');
            isPaused = true; // D·ª´ng slideshow
            // clearInterval(slideInterval); // D·ª´ng h·∫≥n interval ho·∫∑c ch·ªâ pause nh∆∞ hi·ªán t·∫°i
          }
        });
      });
    }

    function nextSlide() {
      if (gallerySlides.length === 0) return;
      gallerySlides[currentSlide].classList.remove('active');
      currentSlide = (currentSlide + 1) % gallerySlides.length;
      gallerySlides[currentSlide].classList.add('active');
    }

    function closeFullscreenViewer() {
      imageViewer.classList.remove('active');
      isPaused = false; // Ti·∫øp t·ª•c slideshow
      // Kh·ªüi ƒë·ªông l·∫°i interval n·∫øu ƒë√£ b·ªã clear, ho·∫∑c d·ª±a v√†o isPaused ·ªü tr√™n
      // if (!slideInterval && gallerySlides.length > 0) {
      //   slideInterval = setInterval(() => { if (!isPaused) nextSlide(); }, 3000);
      // }
    }

    function createSparkles() {
        // T·∫°o nhi·ªÅu l·∫•p l√°nh h∆°n trong m·ªôt l·∫ßn g·ªçi ƒë·ªÉ tƒÉng ƒë·ªô ph·ªß
        for (let i = 0; i < 3; i++) { // T·∫°o 3 l·∫•p l√°nh m·ªói l·∫ßn g·ªçi
            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');
            
            sparkle.style.left = Math.random() * 100 + 'vw';
            sparkle.style.top = Math.random() * 100 + 'vh';
            
            const size = Math.random() * 4 + 2; // K√≠ch th∆∞·ªõc nh·ªè h∆°n m·ªôt ch√∫t (2px ƒë·∫øn 6px)
            sparkle.style.width = `${size}px`;
            sparkle.style.height = `${size}px`;
            
            const colors = ['#ffffff', '#ffb6c1', '#ffdae0', '#fff0f3']; // M√†u s·∫Øc nh·∫π nh√†ng h∆°n
            const color = colors[Math.floor(Math.random() * colors.length)];
            sparkle.style.background = color;
            sparkle.style.boxShadow = `0 0 8px 1px ${color}`; // B√≥ng m·ªù h∆°n
            
            sparkle.style.animationDelay = Math.random() * 3 + 's'; // Delay ƒëa d·∫°ng h∆°n
            sparkle.style.animationDuration = (Math.random() * 2 + 2) + 's'; // Th·ªùi gian t·ªìn t·∫°i ƒëa d·∫°ng (2-4s)


            sparklesContainer.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, parseFloat(sparkle.style.animationDuration.replace('s','')) * 1000 + parseFloat(sparkle.style.animationDelay.replace('s','')) * 1000);
        }
    }
    
    // V√¥ hi·ªáu h√≥a h√†m createHeart
    /*
    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      
      const size = Math.random() * 15 + 10;
      heart.style.width = `${size}px`;
      heart.style.height = `${size}px`;
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (4 + Math.random() * 4) + 's';
      
      const colors = ['#ff4d6d', '#ff758f', '#ff8fa3', '#ffb3c1'];
      const color = colors[Math.floor(Math.random() * colors.length)];
      heart.style.background = color;
      // heart.style.setProperty('--heart-color', color); // Kh√¥ng c·∫ßn n·∫øu CSS tr√°i tim b·ªã x√≥a
      
      // floatingHearts.appendChild(heart); // V√¥ hi·ªáu h√≥a
      
      setTimeout(() => {
        heart.remove();
      }, 6000);
    }
    */

    function updateCountdown() {
      const now = new Date();
      let diff = now - startDate;

      if (diff < 0) { // N·∫øu ng√†y b·∫Øt ƒë·∫ßu trong t∆∞∆°ng lai
        document.getElementById('years').textContent = 0;
        document.getElementById('months').textContent = 0;
        document.getElementById('days').textContent = 0;
        // C√≥ th·ªÉ hi·ªÉn th·ªã th√¥ng b√°o "S·∫Øp b·∫Øt ƒë·∫ßu" ho·∫∑c ƒë·∫øm ng∆∞·ª£c ƒë·∫øn ng√†y ƒë√≥
        return;
      }

      let years = now.getFullYear() - startDate.getFullYear();
      let months = now.getMonth() - startDate.getMonth();
      let days = now.getDate() - startDate.getDate();
      
      if (days < 0) {
        months--;
        // L·∫•y s·ªë ng√†y c·ªßa th√°ng tr∆∞·ªõc ƒë√≥
        const prevMonthLastDay = new Date(now.getFullYear(), now.getMonth(), 0).getDate();
        days += prevMonthLastDay;
      }
      
      if (months < 0) {
        years--;
        months += 12;
      }
      
      document.getElementById('years').textContent = years;
      document.getElementById('months').textContent = months;
      document.getElementById('days').textContent = days;
      
      // Hi·ªáu ·ª©ng pulse n·∫øu l√† ng√†y k·ª∑ ni·ªám (0 ng√†y, 0 th√°ng, X nƒÉm)
      if (days === 0 && months === 0 && years >=0 ) { 
        const countdownBox = document.querySelector('.countdown-box');
        if (countdownBox) {
            countdownBox.classList.add('pulse');
            setTimeout(() => {
                countdownBox.classList.remove('pulse');
            }, 1000); // Th·ªùi gian hi·ªáu ·ª©ng pulse
        }
      }
    }

    function changeQuote() {
      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
      const quoteElement = document.getElementById('quote');
      const authorElement = document.getElementById('quoteAuthor');
      
      quoteElement.style.opacity = 0;
      authorElement.style.opacity = 0;
      
      setTimeout(() => {
        quoteElement.textContent = randomQuote.text;
        authorElement.textContent = randomQuote.author;
        quoteElement.style.opacity = 1;
        authorElement.style.opacity = 1;
      }, 500); // Th·ªùi gian fade
    }

    function toggleMusic() {
      if (music.paused) { // Ki·ªÉm tra tr·∫°ng th√°i paused c·ªßa audio element
        music.play().then(() => {
          musicToggle.textContent = 'üéµ';
          musicPlaying = true;
        }).catch(e => {
          console.log("Ng∆∞·ªùi d√πng c·∫ßn t∆∞∆°ng t√°c ƒë·ªÉ ph√°t nh·∫°c:", e);
          // C√≥ th·ªÉ hi·ªÉn th·ªã th√¥ng b√°o y√™u c·∫ßu ng∆∞·ªùi d√πng click v√†o n√∫t nh·∫°c
          musicToggle.textContent = 'üîá'; // Gi·ªØ icon l√† t·∫Øt n·∫øu kh√¥ng play ƒë∆∞·ª£c
          musicPlaying = false;
        });
      } else {
        music.pause();
        musicToggle.textContent = 'üîá';
        musicPlaying = false;
      }
    }

    // Hi·ªáu ·ª©ng click tr√°i tim ƒë√£ b·ªã lo·∫°i b·ªè theo y√™u c·∫ßu
    /*
    function createClickEffect(e) {
      // Ch·ªâ t·∫°o hi·ªáu ·ª©ng n·∫øu click v√†o app-container, kh√¥ng ph·∫£i n√∫t nh·∫°c hay viewer
      if (e.target.closest('.music-control') || e.target.closest('.image-viewer')) {
        return;
      }
      for (let i = 0; i < 3; i++) { // Gi·∫£m s·ªë l∆∞·ª£ng tr√°i tim click
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.classList.add('heart'); // T√°i s·ª≠ d·ª•ng class heart (n·∫øu CSS c√≤n) ho·∫∑c t·∫°o class m·ªõi
          heart.style.position = 'fixed'; // ƒê·ªÉ v·ªã tr√≠ theo viewport
          heart.style.left = (e.clientX - 10) + 'px'; // CƒÉn gi·ªØa tr√°i tim t·∫°i ƒëi·ªÉm click
          heart.style.top = (e.clientY - 10) + 'px';
          heart.style.width = '20px'; // K√≠ch th∆∞·ªõc c·ªë ƒë·ªãnh
          heart.style.height = '20px';
          // heart.style.setProperty('--heart-color', 'var(--primary)'); // Set m√†u
          heart.style.background = 'var(--primary)';
          
          // Animation cho tr√°i tim bay l√™n v√† m·ªù d·∫ßn
          heart.style.animation = 'float 1s ease-out forwards'; 
          // @keyframes float c·∫ßn ƒë∆∞·ª£c ƒëi·ªÅu ch·ªânh ho·∫∑c t·∫°o m·ªõi cho hi·ªáu ·ª©ng n√†y
          // V√≠ d·ª•: @keyframes clickFloat { 0% { transform: translate(0,0) scale(0.5); opacity: 1;} 100% { transform: translate(0, -50px) scale(1); opacity: 0;} }
          // heart.style.animationName = 'clickFloat'; // N·∫øu d√πng animation ri√™ng

          document.body.appendChild(heart);
          
          setTimeout(() => {
            heart.remove();
          }, 1000); // X√≥a sau 1s
        }, i * 50); // T·∫°o c√°ch nhau m·ªôt ch√∫t
      }
    }
    */

    document.addEventListener('DOMContentLoaded', () => {
      initGallery();
      updateCountdown();
      setInterval(updateCountdown, 60000); // C·∫≠p nh·∫≠t m·ªói ph√∫t l√† ƒë·ªß, tr·ª´ khi c·∫ßn real-time gi√¢y
      
      changeQuote();
      setInterval(changeQuote, 10000); // Thay quote m·ªói 10 gi√¢y
      
      // TƒÉng t·∫ßn su·∫•t t·∫°o l·∫•p l√°nh
      setInterval(createSparkles, 80); // T·∫°o nhi·ªÅu l·∫•p l√°nh th∆∞·ªùng xuy√™n h∆°n (v√≠ d·ª•: m·ªói 80ms)
      // setInterval(createHeart, 500); // V√¥ hi·ªáu h√≥a
      
      musicToggle.addEventListener('click', toggleMusic);
      
      // Th·ª≠ ph√°t nh·∫°c sau m·ªôt t∆∞∆°ng t√°c nh·ªè ho·∫∑c ch·ªù ng∆∞·ªùi d√πng click
      // Ch√≠nh s√°ch autoplay c·ªßa tr√¨nh duy·ªát ng√†y c√†ng kh·∫Øt khe
      // music.play().then(() => { // B·ªè t·ª± ƒë·ªông play ngay khi load
      //   musicPlaying = true;
      //   musicToggle.textContent = 'üéµ';
      // }).catch(e => {
      //   console.log("Autoplay b·ªã ch·∫∑n, ch·ªù ng∆∞·ªùi d√πng t∆∞∆°ng t√°c.", e);
      //   musicPlaying = false;
      //   musicToggle.textContent = 'üîá';
      // });

      // document.addEventListener('click', createClickEffect); // V√¥ hi·ªáu h√≥a
      
      closeViewer.addEventListener('click', closeFullscreenViewer);
      imageViewer.addEventListener('click', (e) => {
        if (e.target === imageViewer) { // Ch·ªâ ƒë√≥ng khi click v√†o n·ªÅn m·ªù, kh√¥ng ph·∫£i ·∫£nh
          closeFullscreenViewer();
        }
      });

      // C·ªë g·∫Øng ph√°t nh·∫°c khi ng∆∞·ªùi d√πng cu·ªôn ho·∫∑c click l·∫ßn ƒë·∫ßu
      const tryPlayMusic = () => {
        if (!musicPlaying && music.paused) {
            music.play().then(() => {
                musicPlaying = true;
                musicToggle.textContent = 'üéµ';
            }).catch(e => {
                // V·∫´n kh√¥ng play ƒë∆∞·ª£c, gi·ªØ nguy√™n tr·∫°ng th√°i
            });
        }
        // G·ª° b·ªè event listener sau l·∫ßn th·ª≠ ƒë·∫ßu ti√™n ƒë·ªÉ kh√¥ng g·ªçi l·∫°i nhi·ªÅu l·∫ßn
        document.removeEventListener('click', tryPlayMusic);
        document.removeEventListener('scroll', tryPlayMusic);
      };

      document.addEventListener('click', tryPlayMusic);
      document.addEventListener('scroll', tryPlayMusic, { once: true }); // Th·ª≠ khi cu·ªôn

    });
  </script>
</body>
</html>